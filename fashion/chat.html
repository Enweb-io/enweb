<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Business Chat Assistant</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f3f5f8;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    /* Menu Bar */
    .menu-bar {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      background: #3B5998;
      color: #fff;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 15px;
      font-weight: bold;
      z-index: 20;
    }
    .menu-left {
      display: flex;
      align-items: center;
    }
    .menu-left img {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      margin-right: 8px;
    }
    .menu-right a {
      color: #fff;
      text-decoration: none;
      font-size: 22px;
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 15;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      max-width: 350px;
      text-align: center;
    }
    .modal-content h2 {
      margin-bottom: 10px;
    }
    .modal-content p {
      font-size: 14px;
      color: #555;
    }
    .close-btn {
      margin-top: 15px;
      padding: 8px 16px;
      background: #3B5998;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    /* Chat Window */
    .chat-container {
      display: none;
      flex-direction: column;
      width: 100%;
      max-width: 400px;
      height: 85vh;
      margin-top: 50px; /* below menu bar */
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    .chat-header {
      background: #3B5998;
      color: #fff;
      padding: 15px;
      text-align: center;
      font-weight: bold;
    }
    .chat-body {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      background: #f9fafc;
    }
    .message {
      display: flex;
      align-items: flex-start;
      margin: 10px 0;
    }
    .avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      margin-right: 8px;
      flex-shrink: 0;
    }
    .system-avatar { background: #3B5998; }
    .user-avatar { background: #28a745; }
    .bubble {
      padding: 10px 14px;
      border-radius: 12px;
      max-width: 75%;
      font-size: 14px;
      line-height: 1.4;
    }
    .system-msg { background: #e9f3ff; }
    .user-msg { background: #e8f9ef; margin-left: auto; margin-right: 0; }
    .chat-footer {
      display: flex;
      padding: 10px;
      border-top: 1px solid #ddd;
    }
    .chat-footer input {
      flex: 1;
      padding: 10px;
      border-radius: 20px;
      border: 1px solid #ccc;
      outline: none;
    }
    .chat-footer button {
      margin-left: 8px;
      background: #3B5998;
      border: none;
      color: #fff;
      padding: 10px 16px;
      border-radius: 20px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Menu -->
  <div class="menu-bar">
    <div class="menu-left">
      <img src="https://via.placeholder.com/30" alt="logo">
      <span>My Business</span>
    </div>
    <div class="menu-right">
      <a href="index.html"><i class="fa fa-home"></i></a>
    </div>
  </div>

  <!-- Intro Modal -->
  <div class="modal" id="introModal">
    <div class="modal-content">
      <h2>Welcome üëã</h2>
      <p>You can ask me about: <br>
      üìç Location, ‚òéÔ∏è Phone, üìß Email, üíµ Pricing, üöö Delivery, ‚è∞ Working Hours, üéÅ Discounts & Offers</p>
      <button class="close-btn" onclick="closeModal()">Start Chat</button>
    </div>
  </div>

  <!-- Chat Window -->
  <div class="chat-container" id="chatBox">
    <div class="chat-header">Business Assistant</div>
    <div class="chat-body" id="chatBody"></div>
    <div class="chat-footer">
      <input type="text" id="userInput" placeholder="Type your question...">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <script>
    const responses = {
      location: "üìç We are located at Cairo Road, Lusaka, Zambia.",
      phone: "‚òéÔ∏è You can reach us at +260 770 304 374.",
      email: "üìß Contact us via email: info@business.com",
      pricing: "üíµ Our products range from K100 (minimum) to K5,000 (maximum).",
      delivery: "üöö We deliver within Lusaka. Delivery charges start from K50.",
      hours: "‚è∞ We are open Monday - Saturday, 8:00 AM - 6:00 PM.",
      discounts: "üéÅ We currently have a 10% discount on all orders above K1000.",
      offers: "üî• Special Offer: Buy 2, Get 1 Free on selected items!"
    };

    const keywords = {
      location: ["location", "address", "where are you", "found"],
      phone: ["phone", "number", "call"],
      email: ["email", "mail", "contact email"],
      pricing: ["price", "pricing", "cost", "charges", "range"],
      delivery: ["deliver", "delivery", "ship"],
      hours: ["time", "hours", "working", "open", "days"],
      discounts: ["discount", "discounts"],
      offers: ["offer", "special", "promotion"]
    };

    function closeModal() {
      document.getElementById("introModal").style.display = "none";
      document.getElementById("chatBox").style.display = "flex";
      systemMessage("Hello! How can I help you today?");
    }

    function systemMessage(text) {
      const body = document.getElementById("chatBody");
      const msg = document.createElement("div");
      msg.classList.add("message");
      msg.innerHTML = `
        <div class="avatar system-avatar"></div>
        <div class="bubble system-msg">${text}</div>`;
      body.appendChild(msg);
      body.scrollTop = body.scrollHeight;
      saveChat();
    }

    function userMessage(text) {
      const body = document.getElementById("chatBody");
      const msg = document.createElement("div");
      msg.classList.add("message");
      msg.innerHTML = `
        <div class="bubble user-msg">${text}</div>
        <div class="avatar user-avatar"></div>`;
      body.appendChild(msg);
      body.scrollTop = body.scrollHeight;
      saveChat();
    }

    function sendMessage() {
      const input = document.getElementById("userInput");
      const text = input.value.trim();
      if (!text) return;
      userMessage(text);
      input.value = "";

      let found = false;
      for (const key in keywords) {
        if (keywords[key].some(word => text.toLowerCase().includes(word))) {
          systemMessage(responses[key]);
          found = true;
          break;
        }
      }

      if (!found) {
        systemMessage("Kindly use contact form for this query. I am limited to my subjects.");
      }
    }

    // Save & Load chat history in localStorage
    function saveChat() {
      localStorage.setItem("chatHistory", document.getElementById("chatBody").innerHTML);
    }
    function loadChat() {
      const history = localStorage.getItem("chatHistory");
      if (history) {
        document.getElementById("chatBody").innerHTML = history;
      }
    }

    window.onload = loadChat;
  </script>

</body>
</html>
