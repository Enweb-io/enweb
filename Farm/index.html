<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SHOP</title>
<!--  Open Graph (for Facebook, WhatsApp, LinkedIn, etc.) -->
<meta property="og:title" content="Elegant Wedding dresss in Zambia">
<meta property="og:description" content="Find fruits and vegetables.">
<meta property="og:image" content="https://enweb-io.github.io/enweb/farm/fruit/1.jpg">
<meta property="og:url" content="https://enweb-io.github.io/enweb/farm/index.html">
<meta property="og:type" content="website">

<!--  Twitter Card (specifically for Twitter/X) -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Elegant Wedding dresss in Zambia">
<meta name="twitter:description" content="Find fruits and vegetables..">
<meta name="twitter:image" content="https://enweb-io.github.io/enweb/farm/fruit/1.jpg">
<meta name="twitter:url" content="https://enweb-io.github.io/enweb/farm/index.html">
  <link rel="stylesheet" href="fonts/css/font-awesome.min.css" />
  <style>
    body { margin:0; font-family:sans-serif; background:#fafafa; margin-bottom:60px; }
	::-webkit-scrollbar {
  width: 2px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #f1f1f1; 
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #888; 
}

* {
  border-sizing: border-box; 
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #2555; 
}
    header {
      display:flex; justify-content:space-between; align-items:center;
      padding:10px 15px; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,.1);
      position:sticky; top:0; z-index:10;
    }
    header .left { display:flex; align-items:center; gap:4px; }
    header img.avatar { width:35px; height:35px; border-radius:50%; }
    header .right { display:flex; align-items:center; gap:15px; }
    .icon-btn { background:none; border:none; position:relative; cursor:pointer; font-size:20px; }
    .badge {
      position:absolute; top:-5px; right:-8px; background:red; color:#fff;
      font-size:12px; padding:2px 6px; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
    }
	.container {
            position: relative; /* Position for overlay and buttons */
            width: 100%; /* Full width */
			height:230px;
            overflow: hidden; /* Crop overflow */
        }

        .container img {
            height:230px;
            object-fit:cover; /* Maintain aspect ratio */
        }

        .gradient-overlay {
            position: absolute; /* Position for gradient */
            bottom: 0; /* Align to bottom */
            left: 0; /* Align to left */
            right: 0; /* Align to right */
            height: 50%; /* Half height for gradient */
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent); /* Gradient effect */
        }

        .avatar-container {
            position: absolute; /* Position for avatar */
            bottom: 7%; /* Space from bottom */
            left: 2%; /* Space from left */
            display: flex; /* Use flexbox for inline alignment */
            align-items: center; /* Center vertically */
            color: white; /* Text color */
        }

       

        .download-button {
            position: absolute; /* Position for download button */
            bottom: 9%; /* Space from bottom */
            right: 2%; /* Space from right */
            background-color: #ea5f5f; /* Button color */
            color: white; /* Text color */
            border: none; /* No border */
            padding: 6px 18px; /* Button padding */
            border-radius: 5px; /* Rounded corners */
            cursor: pointer; /* Pointer cursor on hover */
			font-size:13px;
        }

        .top-buttons {
            position: absolute; /* Position for top buttons */
            top: 20px; /* Space from top */
            right: 20px; /* Space from right */
            display: flex; /* Use flexbox for buttons */
			
        }

        .top-button {
            width: 35px; /* Width for top buttons */
            height: 35px; /* Height for top buttons */
            border-radius: 50%; /* Make buttons round */
            background-color: white; /* Button color */
            color: white; /* Button text color */
            border: none; /* No border */
            margin-left: 10px; /* Space between buttons */
            cursor: pointer; /* Pointer cursor on hover */
        }
		
		.share-btn {
  pointer-events: auto;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: white;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 14px;
}
a{text-decoration:none;}

.fb {
  background-color: #1877f2;
}

.whatsapp {
  background-color: #25d366;
  position: relative;
  overflow: hidden;
}
		
		 .avatar {
            width: 32px; /* Width for the avatar */
            height: 32px; /* Height for the avatar */
            border-radius: 50%; /* Make avatar round */
            margin-right: 10px; /* Space between avatar and text */
        }

.profile {
            display: flex;
            align-items: center;
            justify-content: space-between;
			padding:5px 10px;
        }
        .avatar {
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-right: 15px;
        }
        .text {
            flex-grow: 1;
			padding:0;
			margin:0;
        }
		
		.text p, .text h3 {
           
			padding:0;
			margin:0;
        }
        .follow-button {
            padding: 6px 15px;
            background-color: #000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
			font-size:11px;
        }

.social{
  border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
			width:96%;
			margin:5px auto;

			padding:5px;
			}

    .tabs { display:flex; gap:10px; padding:10px; }
    .tabs button {
      flex:1; padding:10px; border-radius:5px; border:1px solid #ccc;
      background:#f9f9f9; font-weight:bold; cursor:pointer;
    }
    .tabs .active { background:#ea5f5f; color:#fff; border-color:#ea5f5f; }

    .search-box { display:none; padding:10px; }

.search-box.open {
  display: block;padding:10px;
}

    .search-box form { display:flex; gap:10px; }
    .search-box input {
       flex: 1;
  padding: 8px;
  border: none;
  outline: none;
  font-size: 14px;
  color: #333;
    }
    .search-box button {
      padding: 8px 15px;
  border: none;
  cursor: pointer;
  border-radius: 5px;
  color: #fff;
    }
    .search-box .submit { background:#ea5f5f; color:#fff; }
    .search-box .clear { background:#ccc; }

    .cards { display:flex; flex-direction:column; gap:15px; padding:10px; }
    .card {
      background:#fff; border-radius:10px; overflow:hidden; box-shadow:0 2px 5px rgba(0,0,0,.1);
      opacity:0; transform:translateY(20px); transition:all .3s ease;
    }
    .card.show { opacity:1; transform:translateY(0); }
    .card img.main { width:100%; height:auto; object-fit:cover; }
    .card .img-overlay {
      position:relative; margin-top:-50px; padding:5px 10px;
      display:flex; justify-content:space-between; align-items:center;
      color:#fff; font-size:14px;
    }
    .gradient { position:absolute; bottom:0; left:0; right:0; height:60px;
      background:linear-gradient(to top,rgba(0,0,0,.7),transparent); }
    .like-btn {
      position:absolute; top:10px; right:10px; width:30px; height:30px;
      border-radius:5px; background:#fff; display:flex; justify-content:center; align-items:center;
      cursor:pointer; font-size:18px; color:#555;
    }
    .like-btn.liked { color:red; }

    .card .info { padding:10px; text-align:center; }
    .meta { display:flex; justify-content:space-between; font-size:12px; color:#777; }
    .price { font-weight:bold; margin:10px 0; }
    .quantity { display:flex; justify-content:center; align-items:center; gap:10px; margin-bottom:10px; }
    .quantity button { width:35px; height:35px; border:none; border-radius:50%; background:#ea5f5f; color:white; cursor:pointer; }
    .add-btn { background:#ea5f5f; color:#fff; padding:10px 15px; border:none; border-radius:5px; cursor:pointer; width:100%; }

    .load-more { display:block; margin:15px auto; padding:10px; width:90%; border:none; border-radius:5px; background:#ea5f5f; color:#fff; cursor:pointer; }
    .to-top { position:fixed; bottom:60px; right:20px; width:40px; height:40px; border-radius:50%; background:#ea5f5f; color:#fff; border:3px solid white; display:none; align-items:center; justify-content:center; font-size:18px; cursor:pointer; }

    .search-msg { text-align:center; padding:10px; color:#555; }

    /* Cart Drawer - fullscreen scrollable */
    .cart-drawer {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: #fff;
      transition: transform .3s ease;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transform: translateY(100%);
    }
    .cart-drawer.open {
      transform: translateY(0);
    }
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      border-bottom: 1px solid #ddd;
      flex-shrink: 0;
    }
    .cart-list {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
    }
    .cart-item {
      display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid #eee; padding:8px 0;
    }
    .cart-item img { width:40px; height:40px; border-radius:5px; object-fit:cover; margin-right:8px; }
    .cart-item .details { flex:1; font-size:14px; }
    .cart-item button { background:red; color:#fff; border:none; border-radius:5px; padding:3px 6px; cursor:pointer; }
    .cart-footer { flex-shrink:0; padding:10px; border-top:1px solid #ddd; }
    .cart-footer .total { font-weight:bold; margin-bottom:8px; }
    .cart-footer button { width:100%; padding:10px; border:none; border-radius:5px; margin-top:5px; cursor:pointer; }
    .checkout { background:#28a745; color:#fff; }
    .clear-cart { background:#ea5f5f; color:white; }
    .empty-msg { text-align:center; padding:20px; color:#777; }

    /* Customer Form */
    .customer-form { padding:10px; overflow-y:auto; flex-shrink:0; max-height:250px; }
    .customer-form input, .customer-form textarea {
      width:100%; padding:8px; margin-bottom:10px; border:1px solid #ccc; border-radius:5px;
      box-sizing:border-box;
    }
    .customer-form textarea { resize:none; }
	
		footer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: #ea5f5f; /* Your footer color */
  color: white;
  text-align: center;
  padding: 12px 0;
  z-index: 1000; /* To ensure it stays on top */
  font-size: 14px;
  border-radius:0;
}
  </style>
</head>
<body>
<header>
  <div class="left">
    <img src="avatar/1.jpg" class="avatar">
    <span style="margi-left:-15px;">FARM PRODUCE</span>
  </div>
  <div class="right">
    <button id="searchToggle" class="icon-btn"><i class="fa fa-search"></i></button>
	 <a href="about-us.html" id="aboutLink" class="icon-btn">
  <i class="fa fa-pencil-square"></i>
</a>

    <button id="cartBtn" class="icon-btn"><i class="fa fa-shopping-bag"></i><span id="cartCount" class="badge">0</span></button>
  </div>
</header>
 <div class="container">
        <img src="fruit/12.jpg" style="width:100%"> <!-- Replace with your image -->
        <div class="gradient-overlay"></div>
        
        <div class="avatar-container">
            <img src="avatar/1.jpg" style="width:34px; height:34px;" class="avatar"> <!-- Replace with your avatar image -->
            <span style ="font-size:12px;"><i class="fa fa-user" aria-hidden="true"> </i> FRUITS AND VEGGIES <i class="fa fa-globe" aria-hidden="true"> </i></span> <!-- Replace with your text -->
        </div>
        
        <a href="tel:+260770304374"><button id="whatsappBtn" class="download-button"><i class="fa fa-phone" aria-hidden="true"> </i> CALL</button></a> <!-- Download button -->
        
        <div class="top-buttons">
		     <a href ="https://api.whatsapp.com/send?text=Check%20out%20these%20fresh%20farm%20products!%20https://enweb-io.github.io/enweb/farm/index.html"><button class="top-button fb"><i class="fa fa-facebook"></i></button></a> <!-- Second top button (Check Icon) -->
             <a href ="contact.html"> <button class="top-button whatsapp"><i class="fa fa-whatsapp"></i></button></a> <!-- First top button (Info Icon) -->
           
        </div>
    </div>

<div class="tabs">
  <button id="fruitTab" class="active">FRUITS</button>
  <button id="drinkTab">VEGETABLES</button>
</div>

<div class="search-box">
  <form id="searchForm">
    <input type="text" id="searchInput" placeholder="Search...">
    <button type="submit" class="submit"><i class="fa fa-search"></i></button>
    <button type="button" class="clear" id="clearSearch"><i class="fa fa-times"></i></button>
  </form>
</div>

<div class="cards" id="cardsContainer"></div>
<p class="search-msg" id="searchMsg"></p>
<button class="load-more" id="loadMoreBtn">LOAD MORE PRODUCTS</button>
<button class="to-top" id="toTopBtn"><i class="fa fa-arrow-up"></i></button>

<!-- Cart Drawer -->
<div class="cart-drawer" id="cartDrawer">
  <div class="cart-header">
    <h3> <i class="fa fa-shopping-bag"></i> FOOD BASKET</h3>
    <button id="closeCart" style ="border-radius:5px; padding:6px 9px; color:white;border:none; background:red;"><i class="fa fa-times"></i></button>
  </div>
  <div class="cart-list" id="cartList"></div>
  <div class="cart-footer">
    <div class="total" id="cartTotal">TOTAL: ZMW 0</div>
    <button class="checkout" id="checkoutBtn"><i class="fa fa-whatsapp"></i> SUBMIT VIA WHATSAPP</button>
    <button class="clear-cart" id="clearCart"><i class="fa fa-times"></i> RESET BASKET CONTENT</button>
  </div>
  <form class="customer-form" id="customerForm">
    <input type="text" id="custName" placeholder="Your Name">
    <input type="text" id="custPhone" placeholder="Phone">
    <input type="text" id="custAddress" placeholder="Address">
    <textarea id="custNotes" placeholder="Extra instructions..."></textarea>
  </form>
</div>
<footer style ="border-radius:0;">&copy; 2025 FARM PRODUCE</footer>

<script>
const fruitData = [
  {id:1, title:"RIPE PAPAYA X 6", price:300, img:"fruit/1.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:2, title:"FRESH MANGO 1KG", price:500, img:"fruit/2.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:3, title:"GUAVA FRUIT 1KG", price:300, img:"fruit/3.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:4, title:"PINEAPPLE 1PC", price:300, img:"fruit/4.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:5, title:"MEDIUM WATERMLON 1PC", price:500, img:"fruit/5.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:6, title:"RIPE PEARS X 8", price:300, img:"fruit/6.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:7, title:"RIPE BANANAS 1KG", price:500, img:"fruit/7.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:8, title:"RED APPLES X 12", price:300, img:"fruit/8.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:9, title:"GRAPES 1KG", price:300, img:"fruit/9.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:10, title:"RIPE LEMONS 1KG", price:300, img:"fruit/10.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:11, title:"FRESH ORANGES 1KG", price:300, img:"fruit/11.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"},
  {id:12, title:"SWEET PINEAPPLE 1PC D62", price:500, img:"fruit/12.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH FRUITS", date:"SEPTEMBER 2025"}
];
const drinkData = [
  {id:13, title:"FRESH POTATOES 10KG", price:300, img:"fruit/13.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:14, title:"LARGE CABBAGE 1PC", price:500, img:"fruit/14.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:15, title:"RED ONION 5KG", price:300, img:"fruit/15.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:16, title:"GREEN BEANS 1KG", price:300, img:"fruit/16.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:17, title:"ASSORTED ONIONS 2KG", price:500, img:"fruit/17.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:18, title:"RIPE TOMATOES 1KG", price:300, img:"fruit/18.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:19, title:"LARGE EGG PLANT 1KG", price:500, img:"fruit/19.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:20, title:"WHITE EGG PLANT 1KG", price:300, img:"fruit/20.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:21, title:"CHINESE CABBAGE 1PC", price:2.00, img:"fruit/21.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:22, title:"CUCUMBER 2KG", price:300, img:"fruit/22.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:23, title:"BELL PEPPERS 1KG", price:300, img:"fruit/images (4).jpeg", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:24, title:"LETTECE 2KG", price:300, img:"fruit/25.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:25, title:"BROCALI 1 PC", price:300, img:"fruit/24.webp", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"},
  {id:26, title:"RAPE 1KG", price:500, img:"fruit/img_7068.jpg", chef:"Lycan Farms", type:"SUCCULENT FRESH VEGETABLES", date:"SEPTEMBER 2025"}
];

let activeTab = "fruit", displayCount = 8, cart = JSON.parse(localStorage.getItem("cart")||"[]");
let likedItems = JSON.parse(localStorage.getItem("likes")||"[]");

const fruitTab=document.getElementById("fruitTab"), drinkTab=document.getElementById("drinkTab");
const cardsContainer=document.getElementById("cardsContainer"), loadMoreBtn=document.getElementById("loadMoreBtn");
const searchToggle=document.getElementById("searchToggle"), searchBox=document.querySelector(".search-box");
const searchForm=document.getElementById("searchForm"), searchInput=document.getElementById("searchInput");
const clearSearch=document.getElementById("clearSearch"), searchMsg=document.getElementById("searchMsg");
const toTopBtn=document.getElementById("toTopBtn"), cartBtn=document.getElementById("cartBtn");
const cartDrawer=document.getElementById("cartDrawer"), closeCart=document.getElementById("closeCart");
const cartList=document.getElementById("cartList"), cartCount=document.getElementById("cartCount"), cartTotal=document.getElementById("cartTotal");
const checkoutBtn=document.getElementById("checkoutBtn"), clearCart=document.getElementById("clearCart");
const custName=document.getElementById("custName"), custPhone=document.getElementById("custPhone"), custAddress=document.getElementById("custAddress"), custNotes=document.getElementById("custNotes");

function renderCards(reset=false, searchTerm=""){
  let data = activeTab==="fruit"?fruitData:drinkData;
  if(searchTerm) data = data.filter(p=>p.title.toLowerCase().includes(searchTerm.toLowerCase()));
  if(reset){ cardsContainer.innerHTML=""; displayCount=8; }
  let shown = data.slice(0,displayCount);
  cardsContainer.innerHTML="";
  shown.forEach(item=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <div style="position:relative">
        <img src="${item.img}" class="main">
        <div class="gradient"></div>
        <div class="img-overlay">
          <span><img src="avatar/1.jpg" style="border-radius:50%; width:40px; height:40px; vertical-align:middle"> ${item.chef}</span>
          <span>⭐ 4.5</span>
        </div>
       <div class="like-btn ${likedItems.includes(item.id) ? 'liked' : ''}">
  <i class="fa ${likedItems.includes(item.id) ? 'fa-heart' : 'fa-heart-o'}"></i>
</div>

      </div>
      <div class="info">
        <div class="meta"><span>${item.type}</span><span>${item.date}</span></div>
        <h4>${item.title}</h4>
        <div class="price">ZMW ${item.price}</div>
        <div class="quantity">
          <button onclick="changeQty(${item.id},-1)">-</button>
          <span id="qty-${item.id}">1</span>
          <button onclick="changeQty(${item.id},1)">+</button>
        </div>
        <button class="add-btn" onclick="addToCart(${item.id})"> <i class="fa fa-shopping-bag"></i> ADD TO CART</button>
      </div>`;
    cardsContainer.appendChild(card);
    setTimeout(()=>card.classList.add("show"),50);
    const likeBtn = card.querySelector(".like-btn");
    likeBtn.addEventListener("click", e=>{
      e.currentTarget.classList.toggle("liked");
      const icon = e.currentTarget.querySelector("i");
      if(e.currentTarget.classList.contains("liked")){
        icon.className = "fa fa-heart"; 
        likedItems.push(item.id);
      } else {
        icon.className = "fa fa-heart-o";
        likedItems = likedItems.filter(id=>id!==item.id);
      }
      localStorage.setItem("likes",JSON.stringify(likedItems));
    });
  });
  searchMsg.textContent = searchTerm && data.length===0 ? "No results found." : "";
  loadMoreBtn.style.display = data.length>displayCount? "block":"none";
}

function changeQty(id,delta){
  let qtyEl=document.getElementById("qty-"+id);
  let val=parseInt(qtyEl.textContent)+delta;
  if(val<1) val=1;
  qtyEl.textContent=val;
}

function addToCart(id){
  let data=[...fruitData,...drinkData].find(p=>p.id===id);
  let qty=parseInt(document.getElementById("qty-"+id).textContent);
  let existing=cart.find(c=>c.id===id);
  if(existing) existing.qty+=qty;
  else cart.push({...data,qty});
  localStorage.setItem("cart",JSON.stringify(cart));
  renderCart(); updateCartCount();
}

function renderCart(){
  cartList.innerHTML="";
  if(cart.length===0){ cartList.innerHTML="<p class='empty-msg'>THE CART IS EMPTY</p>"; }
  let total=0;
  cart.forEach((item,i)=>{
    const subtotal = item.price*item.qty;
    total+=subtotal;
    const div=document.createElement("div");
    div.className="cart-item";
    div.innerHTML=`
      <img src="${item.img}">
      <div class="details"><b>${item.title}</b><br>ZMW ${item.price} x ${item.qty} = ZMW ${subtotal}</div>
      <button onclick="removeFromCart(${i})" style ="padding:8px;">Remove</button>`;
    cartList.appendChild(div);
  });
  cartTotal.textContent="Total: ZMW "+total;
}

function removeFromCart(i){
  cart.splice(i,1); localStorage.setItem("cart",JSON.stringify(cart));
  renderCart(); updateCartCount();
}
function updateCartCount(){ cartCount.textContent=cart.reduce((a,c)=>a+c.qty,0); }

fruitTab.onclick=()=>{activeTab="fruit"; fruitTab.classList.add("active"); drinkTab.classList.remove("active"); renderCards(true);}
drinkTab.onclick=()=>{activeTab="drink"; drinkTab.classList.add("active"); fruitTab.classList.remove("active"); renderCards(true);}
searchToggle.onclick = () => {
  searchBox.classList.toggle("open");
};
searchForm.onsubmit=(e)=>{e.preventDefault(); renderCards(true,searchInput.value);}
clearSearch.onclick=()=>{searchInput.value=""; renderCards(true);}
loadMoreBtn.onclick=()=>{displayCount+=8; renderCards();}
window.onscroll=()=>{toTopBtn.style.display=window.scrollY>200?"flex":"none";}
toTopBtn.onclick=()=>window.scrollTo({top:0,behavior:"smooth"});
cartBtn.onclick=()=>cartDrawer.classList.add("open");
closeCart.onclick=()=>cartDrawer.classList.remove("open");
clearCart.onclick=()=>{cart=[]; localStorage.setItem("cart","[]"); renderCart(); updateCartCount();}
checkoutBtn.onclick=()=>{
  localStorage.setItem("custName",custName.value);
  localStorage.setItem("custPhone",custPhone.value);
  localStorage.setItem("custAddress",custAddress.value);
  localStorage.setItem("custNotes",custNotes.value);
  let name=custName.value, phone=custPhone.value, addr=custAddress.value, notes=custNotes.value;
  let msg="Order:%0A"; cart.forEach(i=>{msg+=`${i.title} x${i.qty} = ZMW ${i.qty*i.price}%0A`}); msg+="%0ATotal: "+cartTotal.textContent+"%0A---%0AName: "+name+"%0APhone: "+phone+"%0AAddress: "+addr+"%0ANotes: "+notes;
  window.open("https://wa.me/260770304374?text="+msg,"_blank");
}

// prefill customer info
custName.value = localStorage.getItem("custName")||"";
custPhone.value = localStorage.getItem("custPhone")||"";
custAddress.value = localStorage.getItem("custAddress")||"";
custNotes.value = localStorage.getItem("custNotes")||"";

renderCards(true); renderCart(); updateCartCount();
</script>
</body>
</html>
